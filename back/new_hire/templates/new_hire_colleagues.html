{% extends 'new_hire_base.html' %}

{% block actions %}{% endblock %}

{% block content %}
{% if user.introductions.all %}
<div class="row row-cards mb-4 mt-3">
  {% for intro in user.introductions.all %}
  <div class="col-md-6 col-lg-3">
    <div class="card">
      <div class="card-body p-4 text-center">
        {% include "_profile_image.html" with user=colleague.intro_person big=True %}
        <h3 class="m-0 mb-1">{{ intro.intro_person.full_name }}</h3>
        {% if intro.intro_person.position != '' %}
        <div class="mt-3">
          <span class="badge bg-purple-lt">{{ intro.intro_person.position }}</span>
        </div>
        {% endif %}
      </div>
      <div class="d-flex">
        {% if intro.intro_person.email %}
        <a href="mailto:{{colleague.email}}" class="card-btn"><!-- Download SVG icon from http://tabler-icons.io/i/mail -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2 text-muted" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="3" y="5" width="18" height="14" rx="2"></rect><polyline points="3 7 12 13 21 7"></polyline></svg>
          Email</a>
        {% endif %}
        <p><i>{{ intro.intro_person.message }}</i></p>
        {% if intro.intro_person.phone %}
        <a href="{{intro.intro_person.phone}}" class="card-btn"><!-- Download SVG icon from http://tabler-icons.io/i/phone -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2 text-muted" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"></path></svg>
          Call</a>
        {% endif %}
      </div>
    </div>
  </div>

  {% endfor %}
</div>
{% endif %}
<div class="card">
  <div class="row card-body">
    <div class="col-8">
      <h2 class="page-title">
        Colleagues
      </h2>
    </div>
    <!-- Page title actions -->
    <div class="col-4 ms-auto d-print-none">
      <div class="d-flex">
        <div class="input-icon float-right w-100">
          <input type="search"
                 class="form-control d-inline-block w-9 me-3"
                 placeholder="Search colleagueâ€¦"
                 name="search"
                 hx-get="{% url 'new_hire:colleagues-search' %}"
                 hx-trigger="keyup delay:500ms changed"
                 hx-target="#search-results"
                 hx-indicator="#spinner"
                 >
                 <span class="input-icon-addon requesting" id="spinner">
                   <div class="spinner-border spinner-border-sm text-muted" role="status"></div>
                 </span>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="search-results">
  {% include '_new_hire_colleagues_search.html' %}
</div>
{% endblock %}
